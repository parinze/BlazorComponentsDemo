@page "/radzendatagrid"
@using BlazorComponentsDemo.ComponentsLibrary.Models
@inject HttpClient Http

<h3>Radzen DataGrid Demo</h3>

@* @if (testData == null)
{
    <p><em>Loading...</em></p>
}
else
{ *@
<DataGridRadzen 
    Data=@testData
    TType="TestDataLarge"
    PropertyToHeaderName="@propertyToHeaderNames"
    BadgeColumnName="@BadgeColumnName" 
    GreenBadgeWords="@GreenBadgeWords"
    RedBadgeWords="@RedBadgeWords"
    PageSizeOptions="@PageSizeOptions"/>
@* } *@

@code {
    private List<TestDataLarge>? testData;
    private string BadgeColumnName = "Status";
    private int[] PageSizeOptions = new int[] { 10, 20, 50, 100, 500, 1000 };

    Dictionary<string, string> propertyToHeaderNames = new()
    {
        {"FirstName", "First Name"},
        {"LastName", "Last Name"},
        {"Email", "Email"},
        {"BirthDate", "Birth Date"},
        {"Location", "Location"},
        {"Status", "Status"}
    };

    private string[] GreenBadgeWords = new string[] { "True" };
    private string[] RedBadgeWords = new string[] { "False" };


    protected override async Task OnInitializedAsync()
    {
        Thread.Sleep(3000);
        testData = await Http.GetFromJsonAsync<List<TestDataLarge>>("sample-data/testsampledatalarge.json");
    }
}
