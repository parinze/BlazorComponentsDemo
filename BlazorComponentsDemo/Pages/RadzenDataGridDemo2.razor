@page "/radzendatagrid2"
@inject HttpClient Http

<h3>Radzen DataGrid Demo2</h3>

<DataGridRadzen 
    Data=@testData
    TType="TestData"
    PropertyToHeaderName="@propertyToHeaderNames"
    Statuses="@Statuses"/>

@code {
    private List<TestData>? testData;

    Dictionary<string, string> propertyToHeaderNames = new()
    {
        {"Id", "ID"},
        {"Date", "Date"},
        {"Type", "Type"},
        {"Patient", "Patient"},
        {"Location", "Location"},
        {"SMS", "SMS"},
        {"Email", "Email"},
        {"View", "View"},
        {"LastView", "Last View"},
        {"Status", "Status"},
        {"Outcome", "Outcome"},
        {"OutcomeDate", "Outcome Date"},
        {"SentBy", "Sent By"},
        {"Expiration", "Expiration"}
    };

    private List<Status> Statuses { get; set; } = new List<Status>() {
        new Status() { Label = "New", Style = "background-color:#DAD9D9;color:#636262;", Code = null },
        new Status() { Label = "Active", Style = "background-color:#E5F2E8;color:#28A745;", Code = 1 },
        new Status() { Label = "Expired", Style = "background-color:#FAE5E5;color:#DC5151;", Code = 0 }
    };


    protected override async Task OnInitializedAsync()
    {
        testData = await Http.GetFromJsonAsync<List<TestData>>("sample-data/testsampledata.json");
    }
}
